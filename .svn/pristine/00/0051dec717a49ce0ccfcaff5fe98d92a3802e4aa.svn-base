<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<input type="hidden" id="contextPath" name="contextPath" value="${pageContext.request.contextPath}">
<c:if test="${not empty attendeeTestList }">
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
            <c:forEach items="${attendeeTestList}" var="attendeeTest">
                <div class="card mb-4 border">
                    <div class="card-header bg-primary text-white text-center py-3">
                        <h5 class="mb-0">${attendeeTest.testSe == 'FT' ? '기말고사' : '중간고사'}</h5>
                    </div>
                    <div class="card-body">
                        <div class="border rounded p-3 mb-3">
                            <div class="row mb-2">
                                <div class="col-4 fw-bold">시험 일자</div>
                                <div class="col-8">${attendeeTest.testSchdl}</div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-4 fw-bold">시험 시간</div>
                                <div class="col-8">${fn:substring(attendeeTest.testDt,0,2) }:${fn:substring(attendeeTest.testDt,2,4) }~${fn:substring(attendeeTest.testEt,0,2) }:${fn:substring(attendeeTest.testEt,2,4) }</div>
                            </div>
                            <div class="row">
                                <div class="col-4 fw-bold">시험 종류</div>
                                <div class="col-8">${attendeeTest.testSe == 'FT' ? '기말고사' : '중간고사'}</div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mt-3">
                            <button class="btn btn-primary" 
                                    data-test-no="${attendeeTest.testNo}" 
                                    data-lect-no="${attendeeTest.lectNo}" 
                                    onclick="showConfirm(this)">응시</button>
                            <button class="btn btn-secondary" 
                                    data-test-no="${attendeeTest.testNo}" 
                                    data-lect-no="${attendeeTest.lectNo}" 
                                    onclick="getProfessorAttendeeTestListPage(this)">교수용 채점 리스트</button>
                            <button class="btn btn-secondary" 
                                    data-test-no="${attendeeTest.testNo}" 
                                    data-lect-no="${attendeeTest.lectNo}" 
                                    onclick="getProfessorDetailTestPage(this)">교수용 시험 상세 조회</button>
                        </div>
                    </div>
                </div>
            </c:forEach>
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
                <!-- 교수가 강의페이지 - 시험탭에 시험 등록하기 버튼 -> 시험 등록 form으로 이동하도록 -->
             <button class="btn btn-secondary" 
                      data-lect-no="${lectNo}" 
                       onclick="getProfessorNewTestPage(this)">시험 등록하기</button>
        </div>
    </div>
</div>
        </div>
    </div>
</div>


</c:if>
<c:if test="${empty attendeeTestList }">
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
                <!-- 교수가 강의페이지 - 시험탭에 시험 등록하기 버튼 -> 시험 등록 form으로 이동하도록 -->
             <button class="btn btn-secondary" 
                      data-lect-no="${lectNo}" 
                       onclick="getProfessorNewTestPage(this)">시험 등록하기</button>
        </div>
    </div>
</div>

</c:if>
<%--
<c:if test="${not empty attendeeTestList }">
	<c:forEach items="${attendeeTestList }" var="attendeeTest" >
		<div id="contextData" 
   			  data-context-path="${pageContext.request.contextPath}" >
			${attendeeTest.testNo }	
			${attendeeTest.lectNo }
			${attendeeTest.testSe        }
			${attendeeTest.testCd        }
			${attendeeTest.testOnlineYn }
			${attendeeTest.testSchdl     }
			${attendeeTest.testDt        }
			${attendeeTest.testEt        }
			${attendeeTest.croomCd       }
	<button class="btn btn-primary" 
	 data-test-no="${attendeeTest.testNo}" 
     data-lect-no="${attendeeTest.lectNo}" 
	onclick="showConfirm(this)"> 응시 </button>
	<button class="btn btn-primary" 
	 data-test-no="${attendeeTest.testNo}" 
     data-lect-no="${attendeeTest.lectNo}" 
	onclick="getProfessorAttendeeTestListPage(this)"> 교수용 채점 리스트 </button>
		
		</div>
	</c:forEach>
</c:if>
 --%>

<script src="${pageContext.request.contextPath }/resources/js/test/attendeeTestScript.js"></script>






