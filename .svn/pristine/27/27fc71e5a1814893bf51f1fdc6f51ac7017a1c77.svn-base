<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<h4>학생한테 보여지는 장학금 유형 조회</h4>

<style>
   .button-container {
        display: flex;
        justify-content: center; /* 수평 중앙 정렬 */
        align-items: center;   /* 수직 중앙 정렬 (선택 사항) */
        flex-wrap: wrap;       /* 버튼이 넘칠 경우 줄 바꿈 */
        margin-top: 20px;      /* 버튼 위쪽 여백 */
    }
    .button-container button {
        background-color: #007bff; /* 버튼 배경색 */
        color: #ffffff;           /* 버튼 텍스트 색상 */
        border: none;             /* 기본 테두리 제거 */
        border-radius: 8px;       /* 둥근 모서리 */
        padding: 10px 20px;       /* 버튼 내부 여백 */
        font-size: 16px;          /* 텍스트 크기 */
        cursor: pointer;          /* 마우스 커서를 포인터로 변경 */
        margin: 5px;             /* 버튼 간격 */
       
    }
       /* 표 크기 조정 */
    .result-table {
        width: 70%; /* 표의 전체 너비를 줄임 */
        margin: 20px auto; /* 표를 화면 중앙에 정렬 */
        border-collapse: collapse; /* 테두리 중복 제거 */
         font-size: 18px; /* 폰트 크기 조정 */
    }

    /* 헤더 스타일 */
    .result-table th {
        background-color: #f4f4f4; /* 헤더 배경색 */
        font-weight: bold; /* 굵은 글씨 */
        padding: 20px 15px; /* 위, 아래 패딩을 추가 */
        text-align: center; /* 텍스트 중앙 정렬 */
        font-size: 25px !important; /* 텍스트 크기 */
    }

    /* 내용 스타일 */
    .result-table td {
         padding: 25px 15px; /* 위, 아래 간격 추가 */
        text-align: left; /* 텍스트 왼쪽 정렬 */
        border: 1px solid #ddd; /* 셀 테두리 */
        font-size: 50px !important;/* 텍스트 크기 */
    }

    /* 표 배경색 및 간격 */
    .result-table tr:nth-child(even) {
        background-color: #f9f9f9; /* 짝수 행 배경색 */
    }
    
    table.result-table td {
    font-size: 50px !important;
}
   
</style>
<script>
    // 서버의 컨텍스트 경로를 JavaScript 변수에 설정
    const contextPath = "${pageContext.request.contextPath}/";
</script>
<table class="table table-bordered">

<div class="button-container">

<c:forEach var="award" items="${award}">
   <button onclick="showContent(
    '${award.awardCd}', 
    '${award.awardType != null ? award.awardType : ''}', 
    '${award.awardNm != null ? award.awardNm : ''}' , 
    '${award.awardNm != null ? award.awardEdnstNm : ''}', 
    '${award.awardGiveAmt != null ? award.awardGiveAmt : ''}', 
    '${award.awardDetail != null ? award.awardDetail : ''}', 
    '${award.awardBenefit != null ? award.awardBenefit : ''}', 
    '${award.awardDocument != null ? award.awardDocument : ''}'
)" >
     ${award.awardNm != null ? award.awardNm : '이름 없음'}
</button>
</c:forEach>
</div>

</table>
<!-- 결과를 출력할 영역 -->
<table id="resultTable" class="table table-bordered">
    <thead>
        <tr align="center" style="font-size: 20px;">
            <th width="50px" height="50px;">구분</th>
            <th width="100px">내용</th>
        </tr>
     
    </thead>
    <tbody id="resultBody" align="center" style="height: 150px; width: 300px"></tbody>
      
    
   
</table>
 
     <div style="text-align: right;">
   <a href="<c:url value='/award/insertAward/new'/>" class="btn btn-outline-primary">등록</a>
   
   <c:forEach var="award" items="${award}">
    <a href="<c:url value='/award/${award.awardCd}/edit'/>" class="btn btn-outline-info">수정</a>
</c:forEach>


<c:forEach var="award" items="${award}">
	 <form action="<c:url value='/award/delete/${award.awardCd}' />" method="post" style="display:inline;">
	   
	    <button type="submit" class="btn btn-outline-danger">삭제</button>
	</form>
	
	</c:forEach>
     
     </div>

     
     <script src ="${pageContext.request.contextPath }/resources/js/award/awardDelete.js"></script>
         
<script>


function showContent(awardCd, awardType,awardEdnstNm,awardNm,  awardGiveAmt, awardDetail, awardBenefit, awardDocument) {
   
	console.log("데이터 확인:", awardCd,awardEdnstNm,awardType, awardNm, awardType, awardGiveAmt, awardDetail, awardBenefit, awardDocument);

    const resultBody = document.getElementById("resultBody");
  
    resultBody.innerHTML = "";

    const data = [
        { label: "장학금 코드", value: awardCd },
        { label: "장학금 유형", value: awardType },
        { label: "지급 기관명", value: awardEdnstNm },
        { label: "장학금 이름", value: awardNm },
        { label: "장학금 금액", value: awardGiveAmt },
        { label: "장학금 설명", value: awardDetail },
        { label: "장학 혜택", value: awardBenefit },
        { label: "제출 서류", value: awardDocument },
    ];

   
    data.forEach(item => {
        const row = document.createElement("tr");

        const cellLabel = document.createElement("td");
        cellLabel.textContent = item.label;

        const cellValue = document.createElement("td");
        cellValue.textContent = item.value;

        row.appendChild(cellLabel);
        row.appendChild(cellValue);

        resultBody.appendChild(row);
    });
}


</script>