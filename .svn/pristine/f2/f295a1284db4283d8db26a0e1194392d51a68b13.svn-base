<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@ taglib uri="http://www.springframework.org/security/tags"
	prefix="security"%>
	
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">취업지원</li>
    <li class="breadcrumb-item active" aria-current="page">취업정보게시판</li>
  </ol>
</nav>

<div class="search-area-container" style="float: right;">
	<div class="search-area" data-pg-target="#searchForm"
		data-pg-fn-name="fnPaging">
		<form:select path="condition.searchType" class="form-select"
			style="width: auto; display: inline-block;">
			<form:option value="" label="전체" />
			<form:option value="title" label="제목" />
			<form:option value="category" label="카테고리" />
		</form:select>
		<form:input path="condition.searchWord" class="form-control"
			placeholder="검색어를 입력하세요"
			style="width: 200px; display: inline-block; margin: 0 5px;" />
		<button id="search-btn" class="btn btn-primary">검색</button>
	</div>
</div>
<br>
<br>
<table class="table table-bordered">
	<thead>
		<tr>
			<th class="text-center">번호</th>
			<th class="text-center">유형</th>
			<th class="text-center" id="jobboardCt">제목</th>
			<th class="text-center">시작일</th>
			<th class="text-center">종료일</th>
			<th class="text-center">조회수</th>
		</tr>
	</thead>
	<tbody>
		<c:if test="${not empty list }">
			<c:forEach items="${list }" var="job">
				<tr>
					<td class="text-center">${job.sn }</td>
					<td class="text-center">${job.jobCate }</td>
					<td><c:url value="/jobboard/${job.jobNo }" var="detailUrl" />
						<a href="${detailUrl }">${job.jobNm }</a></td>
					<td class="text-center">${job.jobDt }</td>
					<td class="text-center">${job.jobEt }</td>
					<td class="text-center">${job.jobCnt }</td>
				</tr>
			</c:forEach>
		</c:if>
		<c:if test="${empty list }">
			<tr>
				<td colspan="5">등록된 글이 없습니다.</td>
			</tr>
		</c:if>
	</tbody>
</table>
<br>
<tr>
	<td colspan="7">
		<div class="paging-area">${pagingHTML }</div>
	</td>
</tr>
<security:authorize access="hasRole('EMPLOYEE')">
	<div id="button1">
		<button id="insert-btn" class="btn btn-primary" style="float: right;">등록</button>
	</div>
</security:authorize>

<form:form id="searchForm" method="get" modelAttribute="condition"
	style="display:none;">
	<form:input path="searchType" />
	<form:input path="searchWord" />
	<input type="hidden" name="page" />
</form:form>
<script src="${pageContext.request.contextPath }/resources/js/utils/paging.js"></script>
<script src="${pageContext.request.contextPath }/resources/js/jobboard/jobBoardList.js"></script>
