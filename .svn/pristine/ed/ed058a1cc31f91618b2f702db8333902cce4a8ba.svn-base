<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<h1>사용자 : 교수 - 직접 등록한 시험 조회</h1>

<c:if test="${not empty detailTest}">


	<table class="table table-bordered " >
		<thead>
			<tr>
				<th>강의명</th>
				<th>시험구분</th>
				<th>시험시간</th>
				<th>교수명</th>
				<th>상태</th>
			</tr>
			<c:if test="${not empty detailTestList}">
				<c:forEach items="${detailTestList}" var="test">

					<c:if test="${test.testNo eq detailTest.testNo}">
						<!-- 여기에 test 정보를 표시하는 코드 추가 -->
							<input type="hidden" id="testNo" name="testNo" value="${test.testNo }">
						<tr>
							<td>${test.lectVO.lectNm }</td>
							<c:if test="${test.testSe eq 'PR'}">
								<td>중간고사</td>
							</c:if>
							<c:if test="${test.testSe eq 'FT'}">
								<td>기말고사</td>
							</c:if>
							<td>
							${test.testSchdl}
							${test.testDt}
							${test.testEt}
</td>
							<td>${test.lectVO.professorVO.nm }</td>
							<td><div id="test-status">
							<c:if test="${test.testCd eq 'COMP'}">
									<button  class="btn btn-outline-primary" id="waiting-button" onclick="javascipt:void(0);">대기</button>							
							</c:if>
							<c:if test="${test.testCd eq 'PEND'}">
									<button  class="btn btn-outline-primary" id="waiting-button" onclick="javascipt:void(0);">반려</button>							
							</c:if>
							<c:if test="${test.testCd eq 'OPEN'}">
									<button  class="btn btn-outline-primary" id="waiting-button" onclick="javascipt:void(0);">등록</button>							
							</c:if>
							</div></td>
						</tr>
					</c:if>
				</c:forEach>
			</c:if>
		</thead>

		<tbody>
			<c:if test="${not empty detailTest.questionVO}">
				<tr>
					<th>문제번호</th>
					<th>문제설명</th>
					<th>문제유형</th>
					<th>배점</th>
					<th>정답</th>
				</tr>
				<c:forEach items="${detailTest.questionVO }" var="que"	varStatus="qn">
					<tr>
						<td><input type="hidden" name="queNum" value="${que.queNo }">${qn.count } 번</td>
						<td>${que.queDescr } </td>
						<td>${que.queType }</td>
						<td>${que.queScore } 점</td>
						<td>
							<c:if test="${not empty que.queAnswer }">
								<c:if test="${que.queType ne '서술형'}">
									등록
								</c:if>
								<c:if test="${que.queType eq '서술형'}">
									미등록
								</c:if>
							</c:if>
							<c:if test="${empty que.queAnswer }">
									서술형						
							</c:if>
						</td>
					</tr>
					<tr>
						<th>지문</th>
						<td colspan="4">
							<c:forEach items="${detailTest.questionVO}"	var="question">
								<c:forEach items="${question.answerVO}" var="answer" varStatus="cn">
									<c:if test="${answer.queNo eq que.queNo }">
										<c:if test="${que.queType eq '주관식' }">
											<p>${answer.anchDescr}</p>
										</c:if>
										<c:if test="${que.queType ne '주관식' }">	</c:if>
										<c:if test="${que.queType eq '객관식' }">
											<p>${cn.count}번: ${answer.anchDescr}</p>
										</c:if>
										<c:if test="${que.queType ne '객관식' }"></c:if>
										<c:if test="${que.queType eq '서술형' }">
											<p>서술형 답안 입니다.</p>
										</c:if>
										<c:if test="${que.queType ne '서술형' }"></c:if>
									</c:if>
								</c:forEach>
							</c:forEach>
						</td>
					</tr>
				</c:forEach>
			</c:if>
		</tbody>
	</table>
</c:if>


<%-- <script	src="${pageContext.request.contextPath }/resources/js/test/testScript.js"></script> --%>




































