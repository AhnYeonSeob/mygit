<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<%@ taglib uri="http://www.springframework.org/tags" prefix="spring"%>
<script>
    const contextPath = "${pageContext.request.contextPath}/";
</script>
<h4>교수가 추천서 수정</h4>
<form:form method="POST" id="updateForm" enctype="multipart/form-data"
	modelAttribute="ask">

	<table class="table table-border">


		<tr>
		    <th>장학 유형 선택</th>
		    <td colspan="2">
		        <form:select path="awardCd" class="form-select"> 
		            <form:option value="" label="유형을 선택하시오"/>
		            <c:forEach var="award" items="${awardList}">
		                <c:if test="${award.awardType == '추천서'}">
		                    <form:option value="${award.awardCd}" label="${award.awardNm}" />
		                </c:if>
		            </c:forEach>
		        </form:select>
		        <form:errors path="awardCd" element="span" class="text-danger" />
		    </td>
		</tr>

		
		
		
		  <tr>
            <th>서류번호</th>
            <td>
            <form:input type="text" path="shapDocNo" cssClass="form-control" readonly="true" />
            <form:errors path="shapDocNo" cssClass="text-danger" />
            </td>
            
        </tr>
		  <tr>
            <th>학기번호</th>
            <td>
            <form:input type="text" path="semstrNo" cssClass="form-control" readonly="true"/>
            <form:errors path="semstrNo" cssClass="text-danger" />
            </td>
            
        </tr>
        <tr>
		  <th>추천 학생 학번</th>
            <td>
            <form:input type="text" path="stuId" cssClass="form-control" readonly="true"/>
            <form:errors path="stuId" cssClass="text-danger" />
            </td>
		
		</tr>
        <tr>
		  <th>추천 사유</th>
            <td>
            <form:input type="text" path="shapRecommend" cssClass="form-control" readonly="true"/>
            <form:errors path="shapRecommend" cssClass="text-danger" />
            </td>
		
		</tr>
        <tr>
			<th>기존파일</th>
			<td>
			<c:forEach items="${ask.atchFile.fileDetails }" var="fd" varStatus="vs">
				<span>
					${fd.orignlFileNm }[${fd.fileFancysize }]
					<a data-atch-file-id="${fd.atchFileId }" data-file-sn="${fd.fileSn }" class="btn btn-danger" href="javascript:void(0);">
						삭제						
					</a>
					${not vs.last ? '|' : ''}
				</span>
			</c:forEach>
				</td>
		</tr>                       

		<tr>
			<th>추가서류</th>
			<td><input type="file" name="uploadFiles" multiple class="form-control" /></td>
		</tr>

		<tr>
			<td colspan="2" align="right">
				<input type="submit" value="전송" class="btn btn-primary" /> 
				<input type="button" value="삭제" class="btn btn-danger" id="delete-btn"/> 
			</td>
		</tr>


	</table>
	
	


</form:form>
<!-- 이거 첨부파일 삭제  -->
<script src="${pageContext.request.contextPath }/resources/js/board/boardEdit.js"></script>