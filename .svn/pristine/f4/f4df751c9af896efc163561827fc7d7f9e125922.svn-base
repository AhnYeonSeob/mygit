package kr.or.ddit.yguniv.commons.login.controller;

import javax.servlet.http.HttpSession;

import org.springframework.http.HttpStatus;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.server.ResponseStatusException;

@Controller
public class LogoutController {
	
	@PostMapping("login/logout")
	public String logout(HttpSession session) {
		if(session.isNew()) {
	         throw new ResponseStatusException(HttpStatus.BAD_REQUEST,"현재 요ㅕ청이 최초의 요청일수가 업소~!");
	      }
	      session.invalidate();
	      return "redirect:/";
	   
	   }
		
	}


