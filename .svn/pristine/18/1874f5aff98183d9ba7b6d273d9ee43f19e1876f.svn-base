<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="security"%>

<script>
    const contextPath = "${pageContext.request.contextPath}/";
</script>
	<h4>교수가 보는 상세조회 리스트</h4>
	<br>
	
<table class="table table-bordered">

			<thead>
				<tr style="text-align: center">
					<th>학기번호</th>
				
					<th>장학금코드</th>
					<th>장학금명</th>
					<th>접수일시</th>
					<th>선발일시</th>
					<th>진행상태</th>
					
					<th></th>
				</tr>
			</thead>
		<tbody>
		
			<c:if test="${not empty ask }">
				<c:forEach items="${ask }" var = "askList"> 
					<tr onclick="location.href='<c:url value='/recommendAward/${askList.shapDocNo}'/>'" style="cursor: pointer;">	
						
						
					
						<td>
					 ${fn:substring(askList.semstrNo, 0, 4)}-${fn:substring(askList.semstrNo, 4, 6)} 
					 </td>
					 
					 
					 
						<td> 
						${askList.awardCd }
						</td>
						<td>${askList.awardVO.awardNm}</td>
					
						
						<td>	${fn:split(askList.shapRcptDate, 'T')[0] } ${fn:split(askList.shapRcptDate, 'T')[1] }
					</td>
				<td>	${fn:split(askList.shapChcDate, 'T')[0] } ${fn:split(askList.shapChcDate, 'T')[1] }
					</td>
						
						
					<td>
					    <c:if test="${askList.commonCodeVO.cocoStts == '승인'}">
					        <button class="btn btn-success" style="color: white;">승인</button>
					    </c:if>
					    <c:if test="${askList.commonCodeVO.cocoStts == '반려'}">
					        <button class="btn btn-danger" style="color: white;">반려</button>
					    </c:if>
					    <c:if test="${askList.commonCodeVO.cocoStts == '접수'}">
					        <button class="btn btn-primary" style="color: white;">접수</button>
					    </c:if>
					    <c:if test="${askList.commonCodeVO.cocoStts != '승인' && askList.commonCodeVO.cocoStts != '반려'&& askList.commonCodeVO.cocoStts != '접수'}">
					       <button class="btn btn-warning" style="color: black;"> ${askList.commonCodeVO.cocoStts}</button>
					    </c:if>
					</td>

						
					<td align="center">
					    <c:if test="${askList.commonCodeVO.cocoStts != '승인' && askList.commonCodeVO.cocoStts != '반려'}">
					        <button class="btn btn-info update-btn" data-doc-no="${askList.shapDocNo}">수정</button>
					    </c:if>
					</td>

					
					</tr>

				</c:forEach>	
			</c:if>
			
			<c:if test="${empty ask }">
			
			<tr>
			
				<td colspan="8" style="text-align: center;"> 신청한 장학금이 없습니다. </td>
			</tr>
			</c:if>
		
		</tbody>
	
</table>

<script src="${pageContext.request.contextPath}/resources/js/awardRec/awardRecEdit.js"></script>


