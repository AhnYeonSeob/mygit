package kr.or.ddit.yguniv.askAward.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import kr.or.ddit.yguniv.askAward.service.AskAwardService;
import kr.or.ddit.yguniv.paging.PaginationInfo;
import kr.or.ddit.yguniv.paging.SimpleCondition;
import kr.or.ddit.yguniv.paging.renderer.BootStrapPaginationRenderer;
import kr.or.ddit.yguniv.paging.renderer.PaginationRenderer;
import kr.or.ddit.yguniv.vo.AwardAskVO;

@Controller
@RequestMapping("/askAward")
public class AskAwardController {


	public static final String MODELNAME ="ask";
	
	@Autowired
	private AskAwardService service;
	
	@ModelAttribute(MODELNAME)
	public AwardAskVO ask() {
		return new AwardAskVO();
	}
	
	// 관리자가 보는 장학금 신청서 목록 조회 
	@GetMapping
	public String askAwardList(
			
			@RequestParam(name = "page", required = false, defaultValue = "1") int page,
			@ModelAttribute("condition") SimpleCondition simpleCondition, Model model
			
			){
		
		PaginationInfo<AwardAskVO> paging = new PaginationInfo<AwardAskVO>();
		paging.setCurrentPage(page);
		paging.setSimpleCondition(simpleCondition);
		model.addAttribute("ask", service.awardAskList(paging));
		PaginationRenderer renderer = new BootStrapPaginationRenderer();
		model.addAttribute("pagingHTML", renderer.renderPagination(paging, "fnPaging"));
		
		return "awardAsk/AwardAskList";
		
	}
	
//	
//	// 학생이 보는 장학금 신청서 목록 조회 
//	@GetMapping
//	public String studentAskAwardList() {
//			
//		return null; 
//		
//	}
//	
	

	
	/*
	 * 
	 * // 장학금 신청서 상세조회
	 * 
	 * @GetMapping("{awardCd}") public String
	 * selectAskAwardDetail(@PathVariable()String awardCd){ return
	 * "awardAsk/AwardAskDetail"; }
	 * 
	 * // 장학금 신청서 작성
	 */
//	  @GetMapping("createAward/new") 
//	  public String createAwardAsk(
//			  
//			  Model model, @ModelAttribute("ask") AwardAskVO ask
//			  ){ 
//		  
//		  return "awardAsk/AwardAskForm"; 
//		  }
//	  
//	  @PostMapping ("createAward")
//	  public String create(
//			  @ModelAttribute(MODELNAME) AwardAskVO ask, 
//			  BindingResult errors,
//			  RedirectAttributes redirectAttributes
//			  
//			  ){ 
//		  
//		  if(errors.hasErrors()) {
//			  return "awardAsk/awardForm";
//		  }
//		  service.insertAwardAsk(ask);
//		  redirectAttributes.addAttribute("message","신청서가 성공적으로 입력되었습니다.");
//
//		  	return "awardAsk/AwardAskDetail"; 
//	  }
//	  
//	
//	// 수정
//	  @PutMapping("{awardCd}") 
//	 public String updateAward(@PathVariable()String awardCd){
//          return "awardAsk/AwardAskDetail"; 
//          }
//	 
//	  // 삭제
//	  @DeleteMapping("{awardCd}") 
//	 public String DeleteAward(@PathVariable()String awardCd){ 
//	  return "awardAsk/AwardAskDetail"; 
//	 } 
//	 
//	  // 접수 승인 
//	 @PutMapping("{awardCd}") 
//	  public String SelectAwardAskOk(@PathVariable()String awardCd){
//	  return "awardAsk/AwardAskDetail"; 
//	  }
//	  
//	 // 접수 반려
//	 @PutMapping("{awardCd}") 
//	  public String SelectAwardAskNo(@PathVariable()String awardCd){ 
//	 return "awardAsk/AwardAskDetail"; }
	 

}
