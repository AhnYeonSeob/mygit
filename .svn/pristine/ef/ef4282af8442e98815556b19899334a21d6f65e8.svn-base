package kr.or.ddit.yguniv.board.systemBoard.controller;

import javax.inject.Inject;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import kr.or.ddit.yguniv.board.systemBoard.service.SystemBoardService;
import kr.or.ddit.yguniv.paging.PaginationInfo;
import kr.or.ddit.yguniv.paging.SimpleCondition;
import kr.or.ddit.yguniv.paging.renderer.DefaultPaginationRenderer;
import kr.or.ddit.yguniv.paging.renderer.PaginationRenderer;
import kr.or.ddit.yguniv.vo.SystemNoticeBoardVO;

//시스템 공지사항 
@Controller
@RequestMapping("/yguniv/systemBoard")
public class SystemBoardController {
	
	@Inject
	private SystemBoardService service;
	
	
	@GetMapping() //목록 조회
	public String selectList(
			
			@RequestParam(name = "page",required = true, defaultValue = "1") int page
			, @ModelAttribute("condition") SimpleCondition simpleCondition
			,Model model 
			
			) {
		PaginationInfo<SystemNoticeBoardVO> paging = new PaginationInfo<SystemNoticeBoardVO>();
		paging.setCurrentPage(page);
		paging.setSimpleCondition(simpleCondition);
		model.addAttribute("boardList", service.selectList(paging));
		PaginationRenderer renderer = new DefaultPaginationRenderer();
		model.addAttribute("pagingHTML", renderer.renderPagination(paging, "fnPaging"));
		
		return "systemBoard/systemBoardList";
		
	}
}

//	// 작성 폼으로 이동 
//	@GetMapping("/createSystemBoard")
//	public String createSystemBoard() {
//		return "systemBoard/systemboardForm";
//	}
//	
//	@PostMapping() //시스템 공지사항 게시글 추가 
//	public String create() {
//		return "systemBoard/systemBoardDetail";
//	}
//	
//	
//	//상세조회
//		@GetMapping("{snbNo}")
//		public String selectSystemBoard(@PathVariable()int snbNo) {
//			
//			return "systemBoard/systemBoardDetail";
//		}
//		
//		//수정
//		@PutMapping("{snbNo}")
//		public String updateSystemBoard(@PathVariable()int snbNo) {
//			return "systemBoard/systemBoardEdit";
//		}
//		
//		//과제삭제
//		@DeleteMapping("{snbNo}")
//		public String deleteSystemBoard(@PathVariable()int snbNo) {
//			return "systemBoard/systemBoardList";
//		}

