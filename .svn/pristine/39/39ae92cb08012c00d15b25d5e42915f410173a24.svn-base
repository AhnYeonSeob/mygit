<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>

<div class="recent-notices-container" style="height:100%; width: 100%; border: 1px solid #ddd; border-radius: 8px; background-color: #f8f9fa; padding: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
    <h3 class="text-primary">📢 최근 공지사항</h3>
    <table class="table table-hover table-bordered" style="width:100%; margin-top: 15px; background-color: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
        <thead class="table-primary text-center" style="background-color: #007bff; color: #fff;">
            <tr>
                <th style="width: 70%; font-size: 1rem;">제목</th>
                <th style="width: 30%; font-size: 1rem;">작성일자</th>
            </tr>
        </thead>
        <tbody>
            <c:choose>
                <c:when test="${not empty systemBoard}">
                    <c:forEach items="${systemBoard}" var="system" varStatus="status">
                        <tr onclick="location.href='<c:url value='/systemBoard/${system.snbNo}'/>'" style="width:100%; cursor: pointer; transition: background-color 0.2s;">
                            <td style="width:70%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; padding: 15px; font-size: 1rem; color: #333;">
                                ${system.snbTtl}
                            </td>
                            <td class="text-center" style="width:30%; padding: 15px; font-size: 0.9rem; color: #555;">
                                ${fn:split(system.snbDt, 'T')[0]}
                            </td>
                        </tr>
                    </c:forEach>
                </c:when>
                <c:otherwise>
                    <tr>
                        <td colspan="2" class="text-center text-muted" style="padding: 20px; font-size: 1rem;">📭 최근 공지사항이 없습니다.</td>
                    </tr>
                </c:otherwise>
            </c:choose>
        </tbody>
    </table>
</div>

<style>
    /* 테이블 행 hover 효과 */
    .table-hover tbody tr:hover {
        background-color: #f1f1f1;
    }

    /* 테이블 셀 테두리 제거 */
    .table th, .table td {
        border: none !important;
    }

    /* 테이블 테두리 둥글게 */
    .table {
        border-radius: 8px;
        overflow: hidden;
    }

    /* 헤더 스타일 */
    .table-primary {
        background-color: #007bff !important;
        color: white !important;
    }

    /* 클릭 가능한 행 스타일 */
    tbody tr {
        cursor: pointer;
    }
</style>
