<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>
<%@ taglib uri="http://www.springframework.org/tags" prefix="spring"%>
<script type="importmap">
{
	"imports": {
		"ckeditor5": "${pageContext.request.contextPath }/resources/js/ckeditor5/ckeditor5.js",
		"ckeditor5/": "${pageContext.request.contextPath }/resources/js/ckeditor5/translations/ko.js/"
	}
}
</script>
<style>
textarea.form-control {
    height: 200px; /* 높이를 200px로 설정 */
    
    table {
    width: 100%; /* 테이블 전체 너비 */
    border-collapse: collapse; /* 테두리 중첩 */
}

tbody {
    display: block; /* tbody를 블록 요소로 설정 */
    width: 100%; /* 너비를 테이블에 맞춤 */
    height: 300px; /* 높이를 300px로 고정 */
    overflow-y: auto; /* 세로 스크롤 추가 */
}

thead, tfoot {
    display: table; /* thead와 tfoot은 테이블로 유지 */
    width: 100%;
}


th {
    text-align: center; /* 가로 중앙 정렬 */
    vertical-align: middle; /* 세로 중앙 정렬 */
}
    

</style>
<form:form id="updateForm" method="POST" enctype="multipart/form-data" 
	modelAttribute="systemBoard">
	<table class="table table-primary">
		<tr>
			<th style="text-align: center">제목</th>
			<td class="bg-light"><form:input type="text" path="snbTtl" cssClass="form-control" required="true"  />
				<form:errors path="snbTtl" element="span" cssClass="text-danger" /></td>
		</tr>
		
		<tr>
			<th style="text-align: center">작성자</th>
			<td class="bg-light"><form:input path="adminId" cssClass="form-control"
					required="true" readonly="true"/>
				<form:errors path="adminId" element="span" cssClass="text-danger" /></td>
		</tr>
		<tr>
			<th style="text-align: center">기존파일</th>
			<td class="bg-light">
			<c:forEach items="${systemBoard.atchFile.fileDetails }" var="fd" varStatus="vs">
				<span>
					${fd.orignlFileNm }[${fd.fileFancysize }]
					<a data-atch-file-id="${fd.atchFileId }" data-file-sn="${fd.fileSn }" class="btn btn-danger" href="javascript:;">
						삭제						
					</a>
					${not vs.last ? '|' : ''}
				</span>
			</c:forEach>
				</td>
		</tr>

		<tr>
			<th style="text-align: center">파일</th>
			<td class="bg-light"><input type="file" name="uploadFiles" multiple class="form-control" /></td>
		</tr>
		
		 <tr>
   
		
		<tr>
				
			<td colspan="2" class="bg-light">
		         <form:textarea path="snbCn" class="form-control" id="editor" placeholder="내용 입력하세요" style="height: 500px;" />

        
    		</td>
				
		</tr> 
		<tr>
			<td colspan="2" align="right">
				<input type="submit" value="저장" class="btn btn-primary" />   
				
			</td>
		</tr>
	</table>	
</form:form>
<form action="<c:url value='/systemBoard/delete/${systemBoard.snbNo}' />" method="post" id="deleteForm">
<!-- 	POST 요청에 포함된 hidden "_method" 파라미터로 브라우저가 지원하지 않는 put/delete 등의 요청 메소드를 대신 표현할 수 있음. -->
<!-- 	단, 서버측에서 해당 파라미터로 요청의 메소드를 변경할 수 있는 Filter 등이 필요함.(web.xml 참고) -->
<!-- 	<input type="hidden" name="_method" required value="delete"/> -->
</form>

<script src="${pageContext.request.contextPath }/resources/js/board/boardEdit.js"></script>












